<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shunya Carroll - Fun Portraits :)</title>
    <link rel="stylesheet" href="../style.css">
</head>
<body class="has-left-banner" data-bg="random">
    <aside class="left-banner" aria-label="Main navigation">
        <h2 class="lb-title">MENU</h2>
        <nav>
            <ul>
                <li><a href="../index.html">Home</a></li>
                <li><a href="gallery.html">Gallery</a></li>
                <li><a href="../index.html#about">About</a></li>
                <li><a href="../index.html#services">Services</a></li>
                <li><a href="../diary.html">Diary</a></li>
            </ul>
        </nav>
        <div class="lb-footer">visitor<br>counter</div>
    </aside>
    <div id="page">
        <header id="masthead">
            <h1>Shunya Carroll Photography</h1>
            <p class="tagline">Capturing Moments in Time</p>
        </header>
        <main>
            <section id="gallery">
                <h2>Fun Portraits :)</h2>
                <p><strong>Date:</strong> February 04, 2026</p>
                <p>Capturing the vibrant energy and colors of the Pride Photowalk event.</p>
                <div class="thumbs">
                    <a href="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_10.jpg" data-caption="Jan 15 2026 Portraits 10">
                        <img src="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_10.jpg" alt="Jan 15 2026 Portraits 10">
                    </a>
                    <a href="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_17.jpg" data-caption="Jan 15 2026 Portraits 17">
                        <img src="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_17.jpg" alt="Jan 15 2026 Portraits 17">
                    </a>
                    <a href="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_22.jpg" data-caption="Jan 15 2026 Portraits 22">
                        <img src="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_22.jpg" alt="Jan 15 2026 Portraits 22">
                    </a>
                    <a href="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_27.jpg" data-caption="Jan 15 2026 Portraits 27">
                        <img src="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_27.jpg" alt="Jan 15 2026 Portraits 27">
                    </a>
                    <a href="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_6.jpg" data-caption="Jan 15 2026 Portraits 6">
                        <img src="../Images/galleries/Fun Portraits :)/Jan 15 2026_Portraits_6.jpg" alt="Jan 15 2026 Portraits 6">
                    </a>
                </div>
            </section>
        </main>
        <footer>
            <p>&copy; 2026 Shunya Carroll Photography</p>
        </footer>
    </div>

    <!-- Lightbox -->
    <div id="lightbox" class="hidden">
        <img id="lb-image" src="" alt="">
        <div id="lb-caption"></div>
        <button id="lb-prev">&lt;</button>
        <button id="lb-next">&gt;</button>
        <button id="lb-close">Ã—</button>
    </div>

    <script>
        // Simple lightbox script with navigation
        const thumbs = document.querySelectorAll('.thumbs a');
        const lightbox = document.getElementById('lightbox');
        const lbImage = document.getElementById('lb-image');
        const lbCaption = document.getElementById('lb-caption');
        const lbClose = document.getElementById('lb-close');
        const lbPrev = document.getElementById('lb-prev');
        const lbNext = document.getElementById('lb-next');

        let currentIndex = 0;

        function showImage(index) {
            currentIndex = index;
            lbImage.src = thumbs[index].href;
            // do not show caption text for lightbox images
            lbCaption.textContent = '';
            lightbox.classList.remove('hidden');
        }

        thumbs.forEach((thumb, index) => {
            thumb.addEventListener('click', (e) => {
                e.preventDefault();
                showImage(index);
            });
        });

        lbClose.addEventListener('click', () => {
            lightbox.classList.add('hidden');
        });

        lbPrev.addEventListener('click', () => {
            currentIndex = (currentIndex - 1 + thumbs.length) % thumbs.length;
            showImage(currentIndex);
        });

        lbNext.addEventListener('click', () => {
            currentIndex = (currentIndex + 1) % thumbs.length;
            showImage(currentIndex);
        });

        lightbox.addEventListener('click', (e) => {
            if (e.target === lightbox) {
                lightbox.classList.add('hidden');
            }
        });

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (lightbox.classList.contains('hidden')) return;
            if (e.key === 'ArrowLeft') {
                lbPrev.click();
            } else if (e.key === 'ArrowRight') {
                lbNext.click();
            } else if (e.key === 'Escape') {
                lbClose.click();
            }
        });
    </script>
    <script src="../scripts/bg-list.js"></script>
    <script src="../scripts/bg.js"></script>
  <!-- Fixed audio player widget -->
  <div class="audio-player-widget">
    <span class="player-label">ðŸŽµ Now Playing</span>
    <audio id="audio-player" controls>
      <source src="../audio/01 andata (Oneohtrix Point Never Remix).mp3" type="audio/mpeg">
      Your browser does not support the audio element.
    </audio>
  </div>
  
  <script>
    // Playlist functionality with cross-page playback
    (function() {
      const playlist = [
        '../audio/01 andata (Oneohtrix Point Never Remix).mp3',
        '../audio/04 Footprints.mp3',
        '../audio/08 Magic.mp3',
        '../audio/17 Can I Kick It_ (J. Cole Remix).mp3'
      ];
      const audio = document.getElementById('audio-player');
      
      if (audio) {
        // Restore playback state from localStorage
        const savedTrack = localStorage.getItem('audioTrack');
        const savedTime = localStorage.getItem('audioTime');
        const wasPlaying = localStorage.getItem('audioPlaying') === 'true';
        
        if (savedTrack !== null) {
          const trackIndex = parseInt(savedTrack);
          audio.src = playlist[trackIndex];
          if (savedTime) {
            audio.currentTime = parseFloat(savedTime);
          }
          if (wasPlaying) {
            audio.play().catch(e => console.log('Autoplay prevented'));
          }
        }
        
        // Auto-advance to next track
        audio.addEventListener('ended', function() {
          const currentTrack = parseInt(localStorage.getItem('audioTrack') || '0');
          const nextTrack = (currentTrack + 1) % playlist.length;
          localStorage.setItem('audioTrack', nextTrack);
          audio.src = playlist[nextTrack];
          audio.play();
        });
        
        // Save state periodically and on page unload
        setInterval(function() {
          if (!audio.paused) {
            const currentSrc = audio.src;
            const trackIndex = playlist.findIndex(p => currentSrc.includes(p));
            localStorage.setItem('audioTrack', trackIndex >= 0 ? trackIndex : 0);
            localStorage.setItem('audioTime', audio.currentTime);
            localStorage.setItem('audioPlaying', 'true');
          } else {
            localStorage.setItem('audioPlaying', 'false');
          }
        }, 1000);
        
        window.addEventListener('beforeunload', function() {
          const currentSrc = audio.src;
          const trackIndex = playlist.findIndex(p => currentSrc.includes(p));
          localStorage.setItem('audioTrack', trackIndex >= 0 ? trackIndex : 0);
          localStorage.setItem('audioTime', audio.currentTime);
          localStorage.setItem('audioPlaying', !audio.paused);
        });
      }
    })();
  </script>

</body>
</html>